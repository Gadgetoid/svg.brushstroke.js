// svg.brushstroke.js 0.3 - Copyright (c) 2013 Philip Howard - Licensed under the MIT license
SVG.extend(SVG.Shape,{bs_getTotalLength:function(e){switch(e.type){case"path":return e.node.getTotalLength();case"polygon":var t=document.createElement("div"),n=SVG(t),r=n.path("M"+e.attr("points")+"z").hide(),i=r.node.getTotalLength();t=n=r=null;return i;case"line":var s=e.node.x2.baseVal.value-e.node.x1.baseVal.value,o=e.node.y2.baseVal.value-e.node.y1.baseVal.value;return Math.sqrt(s*s+o*o);case"ellipse":var u=e.node.rx.baseVal.value,a=e.node.ry.baseVal.value,f=(u*u+a*a)/2;return Math.ceil(2*Math.PI*Math.sqrt(f));case"rect":var l=e.node.width.baseVal.value,c=e.node.height.baseVal.value;return l*2+c*2;default:return-1}},brushStroke:function(e,t,n){var r=this,i=this.bs_getTotalLength(r);if(i==-1)return;if(typeof t==="undefined")t=i;if(typeof n==="undefined")n=false;if(typeof jQuery==="undefined"){r.attr({"stroke-dasharray":i,"stroke-dashoffset":n?0:i});setTimeout(function(){r.animate(t).attr({"stroke-dashoffset":n?i:0})},e)}else{jQuery(r.node).css({transition:"stroke-dashoffset 0s ease-in-out","stroke-dasharray":i,"stroke-dashoffset":n?0:i});jQuery("document").ready(function(){setTimeout(function(){jQuery(r.node).css({transition:"stroke-dashoffset "+t/1e3+"s ease-in-out"}).css({"stroke-dashoffset":n?i:0})},e)})}}})
