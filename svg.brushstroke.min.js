// svg.brushstroke.js 0.4 - Copyright (c) 2013 Philip Howard - Licensed under the MIT license
SVG.extend(SVG.Shape,{bs_forgetLength:function(){this.forget("bs_len")},bs_getTotalLength:function(e){if(typeof e==="undefined")e=this;var t=-1;if(typeof e.remember("bs_len")==="number")return e.remember("bs_len");switch(e.type){case"path":t=e.node.getTotalLength();break;case"polygon":var n=document.createElement("div"),r=SVG(n),i=r.path("M"+e.attr("points")+"z").hide(),s=i.node.getTotalLength();n=r=i=null;t=s;break;case"line":var o=e.node.x2.baseVal.value-e.node.x1.baseVal.value,u=e.node.y2.baseVal.value-e.node.y1.baseVal.value;t=Math.sqrt(o*o+u*u);break;case"ellipse":var a=e.node.rx.baseVal.value,f=e.node.ry.baseVal.value,l=(a*a+f*f)/2;t=Math.ceil(2*Math.PI*Math.sqrt(l));break;case"rect":var c=e.node.width.baseVal.value,h=e.node.height.baseVal.value;t=c*2+h*2;break}e.remember("bs_len",t);return t},brushStroke:function(e,t,n){var r=this,i=this.bs_getTotalLength(r),s=false;if(i==-1)return;if(typeof t==="undefined")t=i;if(typeof n==="undefined")n=false;if(typeof n==="number"){s=true;if(parseInt(n)==n)n/=100;n=1-n}if(typeof jQuery==="undefined"){r.attr({"stroke-dasharray":i,"stroke-dashoffset":n?0:i});setTimeout(function(){r.animate(t).attr({"stroke-dashoffset":s?i*n:n?i:0})},e)}else{jQuery(r.node).css({transition:"stroke-dashoffset 0s ease-in-out","stroke-dasharray":i,"stroke-dashoffset":n?0:i});jQuery("document").ready(function(){setTimeout(function(){jQuery(r.node).css({transition:"stroke-dashoffset "+t/1e3+"s ease-in-out"}).css({"stroke-dashoffset":s?i*n:n?i:0})},e)})}}})
